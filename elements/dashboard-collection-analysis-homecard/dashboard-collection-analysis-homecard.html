<link rel="import" href="..\..\bower_components/polymer/polymer.html">

<dom-module id="dashboard-collection-analysis-homecard">
  <template>
    <style>
    .innercard{
      width: 50%;
     }
    </style>
    <div class="innercard">
    <div id="collectionchartContainer" style="height: 250; width: 250;"></div>
    </div>
  </template>
  <script type="text/javascript" src="../../scripts/canvasjs.min.js"></script>
  <script>
  (function() {
    'use strict';
    Polymer({
      is: 'dashboard-collection-analysis-homecard',
      FnToggleChart:function(arr){
        // alert(JSON.stringify(arr));
        var data=[];
        for(var i=0;i<arr.length;i++){
          var obj={};
          obj.y=arr[i].amount;
          obj.label=arr[i].type;
          data.push(obj);
        }
        this.FnShowChart(data);
      },
      FnShowChart:function(data){
        var chart = new CanvasJS.Chart("collectionchartContainer",
        {
        title:{
        text: "Collection Dashboard"
        },
        width:300,
        height:250,
        legend: {
        maxWidth: 350,
        itemWidth: 120
        },
        data: [
        {
        type: "pie",
        showInLegend: true,
        legendText: "{indexLabel}",
        dataPoints: data
        }
        ]
        });
        chart.render();
      }
    });
  })();
  </script>
</dom-module>
