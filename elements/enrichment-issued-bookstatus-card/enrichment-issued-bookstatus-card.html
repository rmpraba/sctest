
<link rel="import" href="..\..\bower_components/polymer/polymer.html">
<link rel="import" href="..\..\bower_components/iron-icons/av-icons.html">

<dom-module id="enrichment-issued-bookstatus-card">
  <template>
    <style>
    #total {
    width: 100%;
    background-color: red;
    height: 25px;
    margin-top: 3%;
    }
    #completed {
    /*width: 0%;*/
    height: 25px;
    background-color: green;
    }
    b{
      font-family: Arial, Helvetica, sans-serif;
      font-weight: bold;
      color: #27408B;
    }
    .card{
      /*background-color: #ffffff;*/
    /*box-shadow: rgba(0, 0, 0, 0.0980392) 0px 2px 4px, rgba(0, 0, 0, 0.0980392) 0px 0px 3px;*/
    }
    </style>
    <div class="card">
        <br>
        <b>{{sno}}) {{assesmenttype}} - {{activity}} - {{status}}  
        <paper-icon-button hidden$="{{hidemore}}"  icon="icons:expand-more" on-click="FnExpand"></paper-icon-button>
        <paper-icon-button hidden$="{{hideless}}" icon="icons:expand-less" on-click="FnLess"></paper-icon-button >
        </b>        
        <ul hidden$="{{showicon}}">
          <template is="dom-repeat" items="{{paramarr}}">
          <li>{{item.param}}-{{item.flag}} 
          <iron-icon icon="av:stop" style="fill: green;" hidden$="{{item.gflag}}">
          </iron-icon>
          <iron-icon icon="av:stop" style="fill: red;" hidden$="{{item.rflag}}">
          </iron-icon>
          </li>
          </template>
        </ul>  
        <br>  
        <br>
        <b>Overall Completeness</b>
        <br>
        <div id="total">
          <div id="completed{{activity}}"><b style="padding-top: 10px;">Completed&nbsp;&nbsp;&nbsp;{{completed}}%</b></div>
        </div>
        <!-- <hr>   -->
        <br>
    </div>
  </template>
  <script>
  (function() {
    'use strict';
    Polymer({
      is: 'enrichment-issued-bookstatus-card',         
      ready:function(){
        this.showicon=true;
        this.hideless=true;
        this.hidemore=false;
      },
      FnExpand:function(){
        this.showicon=false;
        this.hideless=false;
        this.hidemore=true;
      },
      FnLess:function(){
        this.showicon=true;
        this.hideless=true;
        this.hidemore=false;
      },
      attached:function(){
        // alert('ready!'+document.querySelector('#completed'+this.activity)+"  "+this.completed+"  "+this.activity);
        document.getElementById('completed'+this.activity).style.width=this.completed+"%";
        document.getElementById('completed'+this.activity).style.height="25px";
        document.getElementById('completed'+this.activity).style.backgroundColor="green";
        document.getElementById('completed'+this.activity).style.align="center";
      }
    });
  })();
  </script>
</dom-module>
