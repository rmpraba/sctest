
<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="..\..\bower_components/polymer/polymer.html">

<dom-module id="term-assesment-to-grade-master-card">
  <template>
    <style>
      :host {
        display: block;
      }
     table{
        width: 70%;  
        border-collapse: collapse;                          
        margin-left: 1%;
      } 
    </style>
    <div >
            
      <table  border="0" cellpadding="0" cellspacing="0" style="border-collapse: collapse;">
       <tr style="border-bottom: 2px solid #C8C8C8; line-height: 1.8em;"> 
          <th  style="{{fonts}}"><p>{{assesmentname}}</p></th>
           <template is="dom-repeat" items="{{assesments}}" as="s">
                  <td width="10%">  
                     <term-assesment-grade-mapping-card dbvalue="{{s.dbvalue}}" hideheadervalue1="{{hideheadervalue1}}" hideheadervalue="{{hideheadervalue}}" fonts="{{fonts}}" termid="{{s.term_id}}" termname="{{s.term_name}}"  assesmentname="{{assesmentname}}" assesmentid="{{assesmentid}}" id="{{s.id}}"  check="{{s.check}}">
                     </term-assesment-grade-mapping-card>
                  </td>
           </template>
          <th width="5%">
            <div hidden$="{{hideheadervalue1}}"><p>Save</p></div>
              <div hidden$="{{hideheadervalue}}">
                <paper-icon-button id="btt" icon='save' on-click='FnSave'></paper-icon-button>
             </div>
           </th>
       </tr>
     </table>
 
    </div>
    <master-term-mapping-ui-service id="uimasterservice"></master-term-mapping-ui-service>
  </template>
  <script>
  (function() {
    'use strict';
   var temparr=[];
    Polymer({
      is: 'term-assesment-to-grade-master-card',
passarr:function(arr){
  temparr=arr; 
},
FnSave:function(e){
  if(temparr.length>0){
    for(var i=0;i<temparr.length;i++){
      if(temparr[i].assesmentname==this.assesmentname)
       var t=i+1; 
    this.$.uimasterservice.Fntermtogrademappingvalue(temparr[i].termname,temparr[i].termid,temparr[i].assesmentid,temparr[i].assesmentname,temparr[i].gradename,temparr[i].gradeid,t);

       }

  }
  else{
    alert("please inset the value");
  }
},
    });
  })();
  </script>
</dom-module>